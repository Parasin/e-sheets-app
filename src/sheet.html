<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/e-styles/e-colors.html">
<link rel="import" href="../bower_components/e-styles/e-font.html">
<link rel="import" href="../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../bower_components/e-spread-sheet/e-spread-sheet.html">

<dom-module id="sheet-view">
  <template>
    <style include="e-colors"></style>
    <style include="e-font"></style>

    <style>
      :host {
        display: block;
      }  
      e-spread-sheet {
        
      }
    </style>

    <iron-localstorage name="e-keystore"
      value="{{key}}">
    </iron-localstorage>

    <e-spread-sheet
      title="Loading your Sheet..."
      sheet-id="{{sheetId}}"
      url="https://e-spreadsheet-service.herokuapp.com/spreadsheets"
      token="{{key}}"
      payload={{payload}}>
    </e-spread-sheet>
  </template>

  <script>

    Polymer( {
      is : 'sheet-view',

      properties : { 
        sheetId  : {
          type   : String
        },

        payload  : Object
      },

      observers: [
        '_payloadChanged(payload)'
      ],
      
      ready : function( ) { },
      
      attached : function( ) { },

      _payloadChanged : function( payload ) {
        console.log( payload );
      }
    } );
  </script>

</dom-module>